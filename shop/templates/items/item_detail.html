{% extends "base.html" %}
{% load static %}


{% block page_header %}
    <div class="container header-container">
        <div class="row">
            <div class="col"></div>
        </div>
    </div>
{% endblock %}

{% block content %}
<div class="cointer container-fluid">
  <div class="row">
    <div class="col-md-6 col-12">
      <img class="img-fluid mx-auto d-block" max-width="400px" alt="Responsive image" src="{{ item.image_url }}">
    </div>
    <div class="px-3 col-md-6 col-12">
      <h2 class="mb-o h-4">{{ item.name }}</h2>
      <p>£ {{ item.price }}</p>
      <p>{{ item.review_rating }} /5</p>
      <div>
        <p>
          {{ item.item_description }}

        </p>
        <label for="select">Select size:</label>
        <select class="form-select" id="select-size">
          <option value="none">Select</option>
          <option value="0-3months">0-3 Months</option>
          <option value="3-6months">3-6 Months</option>
          <option value="6-9months">6-9 Months</option>
          <option value="9-12months">9-12 Months</option>
          <option value="12-24months">12-24 Months</option>
          <option value="2years">2 Years</option>
          <option value="3years">3 Years</option>
          <option value="4years">4 Years</option>
          <option value="5years">5 Years</option>
          <option value="6years">6 Years</option>
        </select>
        <label for="select">Select Quantity</label>
        <select class="form-select" id="select-quantity">
          <option selected>Select</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
        </select>

        <button type="submit" id="add-button" value="{{item.id}}" class="m-3 btn btn-secondary">Add to
          basket</button>
        <button type="submit" class="m-3 btn btn-secondary" onClick="javascript:history.go(-1);">Keep
          Shopping</button>
      </div>
     
    </div>
    <div>
      <div class="accordion" id="accordionPanelsStayOpenExample">
        <div class="accordion-item">
          <h2 class="accordion-header card-header" id="panelsStayOpen-headingOne">
            <button class="btn btn-link open "  type="button" data-bs-toggle="collapse"
              data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true"
              aria-controls="panelsStayOpen-collapseOne">
              <strong><h3>Description</h3></strong>
            </button>
          </h2>
          <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse show"
            aria-labelledby="panelsStayOpen-headingOne">
            <div class="accordion-body">
              <ul>
                <li><P>MONEY FROM EVERY SALE GOES TO THE MARINE CONSERVATION SOCIETY - HELPING TO KEEP OUR OCEANS CLEAN AND OUR WHALES HAPPY!</P></li>
                <li><P>Our free as a bird print is made in the UK from 95% Cotton 5 % Elastane Jersey </P></li>
                <li><P>We carefully select our fabrics to ensure they are kind to babies skin and gorgeously soft and comfortable for little legs. All of our fabrics are Öko-Tex Standard 100 certified ensuring they are chemically safe for the whole family. All seams are overlocked inside for a quality finish </P></li>
                <li><P>Happy Whale leggings feature an enclosed non roll elasticated waist and are available in sizes 0-6. The leggings also feature a reversible ankle cuff which is designed to be folded up or down as your child grows. All of our styles are cut for both disposable and cloth nappies</P></li>
                <li><P>Every order is carefully wrapped in delicate recycled tissue paper</P></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header card-header" id="panelsStayOpen-headingTwo">
            <button class="btn btn-link collapsed"  type="button" data-bs-toggle="collapse"
              data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false"
              aria-controls="panelsStayOpen-collapseTwo">
              <strong><h3>Care Instructions:</h3></strong>
            </button>
          </h2>
          <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse"
            aria-labelledby="panelsStayOpen-headingTwo">
            <div class="accordion-body">
              <ul>
              <li><P>- Bright colours may fade so wash inside out at 30° with similar colours</P></li>
              <li><P>- Line dry </P></li>
              <li><P>- Iron on cool</P></li>
              <li><P>- Do not tumble dry</P></li>
              <li><P>Pattern placement may vary to pictured item</P></li>
            </ul>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header card-header" id="panelsStayOpen-headingThree">
            <button class="btn btn-link collapsed" type="button" data-bs-toggle="collapse"
              data-bs-target="#panelsStayOpen-collapseThree" aria-expanded="false"
              aria-controls="panelsStayOpen-collapseThree">
              <strong><h3>Size Guid</h3></strong>
            </button>
          </h2>
          <div id="panelsStayOpen-collapseThree" class="accordion-collapse collapse"
            aria-labelledby="panelsStayOpen-headingThree">
            <div class="accordion-body">
              <table class="container size-guid">
                <tr class="guid-head">
                    <th>
                        <h4>Age</h4>
                    </th>
                    <th>
                        <h4>Height</h4>
                    </th>
                    <th>
                        <h4>Chest</h4>
                    </th>
                </tr>
                <tr>
                    <th>0-3 Months</th>
                    <td>56 cm</td>
                    <td>38.5 cm</td>
                </tr>
                <tr>
                    <th>3-6 Months</th>
                    <td>68 cm</td>
                    <td>45.5 cm</td>
                </tr>
                <tr>
                    <th>6-9 Months</th>
                    <td>74 cm</td>
                    <td>47 cm</td>
                </tr>
                <tr>
                    <th>9-12 Months</th>
                    <td>80 cm</td>
                    <td>49.5 cm</td>
                </tr>
                <tr>
                    <th>12-18 Months</th>
                    <td>86 cm</td>
                    <td>50.5 cm</td>
                </tr>
                <tr>
                    <th>18-24 Months</th>
                    <td>92 cm</td>
                    <td>52.5 cm</td>
                </tr>
                <tr>
                    <th>2-3 Years</th>
                    <td>98 cm</td>
                    <td>54.5 cm</td>
                </tr>
                <tr>
                    <th>3-4 Years</th>
                    <td>104 cm</td>
                    <td>56 cm</td>
                </tr>
                <tr>
                    <th>4-5 Years</th>
                    <td>110 cm</td>
                    <td>58</td>
                </tr>
                <tr>
                    <th>5-6 Years</th>
                    <td>116 cm</td>
                    <td>60.5 cm</td>
                </tr>
            </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  $(document).on('click', '#add-button', function (e) {
    e.preventDefault();
    $.ajax({
        type: 'POST',
        url: '{% url "cart:cart_add" %}',
        data: {
            itemid: $('#add-button').val(),
            itemsize: $('#select-size option:selected').val(),
            itemquantity: $('#select-quantity option:selected').text(),
            csrfmiddlewaretoken: "{{csrf_token}}",
            action: 'post'
        },
        success: function (cart) {
            document.getElementById("cart-quantity").innerHTML = cart.quantity
            //document.getElementById("cart-quantity").innerHTML = cart.size
            
        },
        error: function (xhr, errmsg, err) {}
    });
})
</script>

{% endblock %}